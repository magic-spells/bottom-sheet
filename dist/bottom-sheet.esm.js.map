{"version":3,"file":"bottom-sheet.esm.js","sources":["../src/bottom-sheet.js"],"sourcesContent":["import './bottom-sheet.css';\n\n/**\n * A throttle utility function to limit how often a function can be called\n * @param {Function} func - The function to throttle\n * @param {number} limit - The time limit in ms for the throttling\n * @returns {Function} A throttled function\n */\nconst throttle = (func, limit) => {\n\tlet inThrottle;\n\treturn function (...args) {\n\t\tif (!inThrottle) {\n\t\t\tfunc.apply(this, args);\n\t\t\tinThrottle = true;\n\t\t\tsetTimeout(() => (inThrottle = false), limit);\n\t\t}\n\t};\n};\n\n/**\n * BottomSheet class that manages touch gestures and delegates\n * show/hide to a parent <dialog-panel> element.\n *\n * Expected HTML structure:\n * <dialog-panel>\n *   <dialog>\n *     <bottom-sheet>\n *       <bottom-sheet-header>...</bottom-sheet-header>\n *       <bottom-sheet-content>...</bottom-sheet-content>\n *     </bottom-sheet>\n *   </dialog>\n * </dialog-panel>\n */\nclass BottomSheet extends HTMLElement {\n\t#handlers = {};\n\t#drag = {};\n\n\t// physics constants\n\t#overscrollResistance = 0.1;\n\t#dragThreshold = 100;\n\n\t// private backing fields\n\t#maxDisplayWidth = Infinity;\n\n\t// cached references for reliable cleanup in disconnectedCallback\n\t#panelRef = null;\n\t#dialogRef = null;\n\t#backdropBound = false;\n\n\t/**\n\t * Define which attributes should be observed for changes\n\t * @returns {string[]} List of attribute names to observe\n\t */\n\tstatic get observedAttributes() {\n\t\treturn ['max-display-width'];\n\t}\n\n\t/**\n\t * Called when observed attributes change\n\t * @param {string} name - The name of the attribute that changed\n\t * @param {string} oldValue - The previous value of the attribute\n\t * @param {string} newValue - The new value of the attribute\n\t */\n\tattributeChangedCallback(name, oldValue, newValue) {\n\t\tconst _ = this;\n\t\tif (oldValue === newValue) return;\n\n\t\tif (name === 'max-display-width') {\n\t\t\tif (newValue === null || newValue === 'none') {\n\t\t\t\t_.maxDisplayWidth = Infinity;\n\t\t\t} else {\n\t\t\t\tconst parsed = parseInt(newValue);\n\t\t\t\t_.maxDisplayWidth = !isNaN(parsed) ? parsed : Infinity;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get the maximum display width\n\t * @returns {number} The maximum width in pixels where the bottom sheet is shown\n\t */\n\tget maxDisplayWidth() {\n\t\treturn this.#maxDisplayWidth;\n\t}\n\n\t/**\n\t * Set the maximum display width and reflect to attribute\n\t * @param {number} value - The maximum width in pixels where the bottom sheet is shown\n\t */\n\tset maxDisplayWidth(value) {\n\t\tconst _ = this;\n\t\t_.#maxDisplayWidth = value;\n\n\t\tif (value === Infinity) {\n\t\t\t_.removeAttribute('max-display-width');\n\t\t} else {\n\t\t\t_.setAttribute('max-display-width', value);\n\t\t}\n\t}\n\n\t/**\n\t * Find parent dialog-panel element\n\t * @returns {HTMLElement|null}\n\t */\n\tget panel() {\n\t\treturn this.closest('dialog-panel');\n\t}\n\n\t/**\n\t * Get the dialog element\n\t * @returns {HTMLDialogElement|null}\n\t */\n\tget dialog() {\n\t\treturn this.closest('dialog');\n\t}\n\n\t/**\n\t * Get the header element\n\t * @returns {HTMLElement|null}\n\t */\n\tget header() {\n\t\treturn this.querySelector('bottom-sheet-header');\n\t}\n\n\t/**\n\t * Get the content element\n\t * @returns {HTMLElement|null}\n\t */\n\tget content() {\n\t\treturn this.querySelector('bottom-sheet-content');\n\t}\n\n\t/**\n\t * Get the backdrop element from dialog-panel\n\t * @returns {HTMLElement|null}\n\t */\n\tget backdrop() {\n\t\treturn this.panel?.querySelector('dialog-backdrop');\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tconst _ = this;\n\n\t\t_.#drag = {\n\t\t\tisDragging: false,\n\t\t\tstartY: 0,\n\t\t\tcurrentY: 0,\n\t\t\tdelta: 0,\n\t\t\tdirection: null,\n\t\t\tisHeader: false,\n\t\t\tisBackdrop: false,\n\t\t\tisAtTop: false,\n\t\t};\n\n\t\t_.#handlers = {\n\t\t\ttouchStart: _.#panelDragStart.bind(_),\n\t\t\ttouchMove: _.#panelDragMove.bind(_),\n\t\t\ttouchEnd: _.#panelDragEnd.bind(_),\n\t\t\ttransitionEnd: _.#handleTransitionEnd.bind(_),\n\t\t\twindowResize: throttle(() => {\n\t\t\t\tif (window.innerWidth > _.maxDisplayWidth && _.panel?.isOpen) {\n\t\t\t\t\t_.hide();\n\t\t\t\t}\n\t\t\t}, 100),\n\t\t\t// Lazily bind backdrop touch events on first show (backdrop may not exist at connectedCallback)\n\t\t\t// Also add transitioning class so the open slide-up animates\n\t\t\tbeforeShow: () => {\n\t\t\t\tconst backdrop = _.backdrop;\n\t\t\t\tif (backdrop && !_.#backdropBound) {\n\t\t\t\t\t_.#bindTouchEvents(backdrop);\n\t\t\t\t\t_.#backdropBound = true;\n\t\t\t\t}\n\t\t\t\t_.dialog?.classList.add('transitioning');\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Shows the bottom sheet via dialog-panel\n\t * @param {HTMLElement} [triggerEl] - The element that triggered the show\n\t */\n\tshow(triggerEl) {\n\t\tconst _ = this;\n\t\tif (window.innerWidth > _.maxDisplayWidth) return;\n\t\t_.panel?.show(triggerEl);\n\t}\n\n\t/**\n\t * Hides the bottom sheet via dialog-panel\n\t */\n\thide() {\n\t\t// Clear any inline transform from drag gestures so CSS state transitions work\n\t\tif (this.dialog) {\n\t\t\tthis.dialog.style.transform = '';\n\t\t}\n\t\tthis.panel?.hide();\n\t}\n\n\t/**\n\t * Binds touch event listeners\n\t */\n\t#bindTouchEvents(el) {\n\t\tconst _ = this;\n\t\tif (!el) return;\n\t\tel.addEventListener('touchstart', _.#handlers.touchStart, { capture: true });\n\t\tel.addEventListener('touchmove', _.#handlers.touchMove, { passive: false });\n\t\tel.addEventListener('touchend', _.#handlers.touchEnd);\n\t\tel.addEventListener('touchcancel', _.#handlers.touchEnd);\n\t}\n\n\t/**\n\t * Unbinds touch event listeners\n\t */\n\t#unbindTouchEvents(el) {\n\t\tconst _ = this;\n\t\tif (!el) return;\n\t\tel.removeEventListener('touchstart', _.#handlers.touchStart, { capture: true });\n\t\tel.removeEventListener('touchmove', _.#handlers.touchMove, { passive: false });\n\t\tel.removeEventListener('touchend', _.#handlers.touchEnd);\n\t\tel.removeEventListener('touchcancel', _.#handlers.touchEnd);\n\t}\n\n\tconnectedCallback() {\n\t\tconst _ = this;\n\n\t\t// Cache references so disconnectedCallback can reliably unbind\n\t\t_.#panelRef = _.panel;\n\t\t_.#dialogRef = _.dialog;\n\n\t\twindow.addEventListener('resize', _.#handlers.windowResize);\n\n\t\t_.#bindTouchEvents(_.header);\n\t\t_.#bindTouchEvents(_.content);\n\n\t\t// Backdrop may not exist yet (dialog-panel auto-creates it),\n\t\t// so bind touch events lazily on first show\n\t\t_.#backdropBound = false;\n\t\t_.#panelRef?.addEventListener('beforeShow', _.#handlers.beforeShow);\n\n\t\tif (_.#dialogRef) {\n\t\t\t_.#dialogRef.addEventListener('transitionend', _.#handlers.transitionEnd);\n\t\t}\n\t}\n\n\tdisconnectedCallback() {\n\t\tconst _ = this;\n\n\t\twindow.removeEventListener('resize', _.#handlers.windowResize);\n\n\t\t_.#unbindTouchEvents(_.header);\n\t\t_.#unbindTouchEvents(_.content);\n\n\t\tif (_.#backdropBound) {\n\t\t\t_.#unbindTouchEvents(_.#panelRef?.querySelector('dialog-backdrop'));\n\t\t\t_.#backdropBound = false;\n\t\t}\n\n\t\t_.#panelRef?.removeEventListener('beforeShow', _.#handlers.beforeShow);\n\n\t\tif (_.#dialogRef) {\n\t\t\t_.#dialogRef.removeEventListener('transitionend', _.#handlers.transitionEnd);\n\t\t}\n\n\t\t_.#panelRef = null;\n\t\t_.#dialogRef = null;\n\t}\n\n\t/**\n\t * Fired when a touch event starts on the panel\n\t * @param {TouchEvent} e - The touch event\n\t */\n\t#panelDragStart(e) {\n\t\tconst _ = this;\n\t\tconst drag = _.#drag;\n\n\t\tdrag.startY = e.targetTouches[0].screenY;\n\t\tdrag.direction = null;\n\t\tdrag.delta = 0;\n\n\t\t_.dialog?.classList.remove('transitioning');\n\n\t\tconst isHeader = !!e.target.closest('bottom-sheet-header');\n\t\tconst isBackdrop = !!e.target.closest('dialog-backdrop');\n\t\tconst isAtTop = _.content?.scrollTop === 0;\n\n\t\tdrag.isHeader = isHeader;\n\t\tdrag.isBackdrop = isBackdrop;\n\t\tdrag.isAtTop = isAtTop;\n\n\t\tif (isHeader || isBackdrop || isAtTop) {\n\t\t\tdrag.isDragging = true;\n\t\t}\n\t}\n\n\t/**\n\t * Applies resistance to a drag value to create a rubber-band effect\n\t * @param {number} value - The raw drag distance\n\t * @returns {number} The drag with resistance applied\n\t */\n\t#applyResistance(value) {\n\t\treturn Math.sqrt(value) * 10 * this.#overscrollResistance;\n\t}\n\n\t/**\n\t * Fired when a touch event moves on the panel\n\t * @param {TouchEvent} e - The touch event\n\t */\n\t#panelDragMove(e) {\n\t\tconst _ = this;\n\t\tconst drag = _.#drag;\n\n\t\tif (!drag.isDragging) return;\n\n\t\tdrag.currentY = e.targetTouches[0].screenY;\n\t\tdrag.delta = drag.currentY - drag.startY;\n\n\t\tif (!drag.direction) {\n\t\t\tdrag.direction = drag.delta < 0 ? 'up' : 'down';\n\t\t}\n\n\t\t// Content area: allow normal scrolling unless at top and dragging down\n\t\tif (!drag.isHeader && !drag.isBackdrop) {\n\t\t\tif (!drag.isAtTop) return;\n\t\t\tif (drag.direction === 'up') return;\n\t\t}\n\n\t\tif (e.cancelable) e.preventDefault();\n\t\te.stopPropagation();\n\n\t\tconst dialog = _.dialog;\n\t\tif (!dialog) return;\n\n\t\t// Upward movement: apply strong resistance (rubber-band effect)\n\t\tif (drag.delta < 0) {\n\t\t\tconst resistedDelta = _.#applyResistance(Math.abs(drag.delta));\n\t\t\tdialog.style.transform = `translate3d(0,${-resistedDelta}px,0)`;\n\t\t\treturn;\n\t\t}\n\n\t\t// Downward movement: natural movement for dismissal\n\t\tif (drag.delta > 0) {\n\t\t\tdialog.style.transform = `translate3d(0,${drag.delta}px,0)`;\n\t\t}\n\t}\n\n\t/**\n\t * Fired when a touch event ends on the panel\n\t */\n\t#panelDragEnd() {\n\t\tconst _ = this;\n\t\tconst drag = _.#drag;\n\n\t\tif (!drag.isDragging) return;\n\t\tdrag.isDragging = false;\n\n\t\tconst dialog = _.dialog;\n\t\tif (!dialog) return;\n\n\t\t// No movement â€” nothing to animate\n\t\tif (drag.delta === 0) {\n\t\t\tdrag.direction = null;\n\t\t\treturn;\n\t\t}\n\n\t\tdialog.classList.add('transitioning');\n\n\t\t// Upward drag: always snap back\n\t\tif (drag.delta < 0) {\n\t\t\tdrag.delta = 0;\n\t\t\tdrag.direction = null;\n\t\t\tdialog.style.transform = '';\n\t\t\treturn;\n\t\t}\n\n\t\t// Downward drag past threshold: dismiss\n\t\tif (drag.delta > _.#dragThreshold) {\n\t\t\tdrag.delta = 0;\n\t\t\tdrag.direction = null;\n\t\t\t_.hide();\n\t\t\treturn;\n\t\t}\n\n\t\t// Snap back to open position\n\t\tdrag.delta = 0;\n\t\tdrag.direction = null;\n\t\tdialog.style.transform = '';\n\t}\n\n\t/**\n\t * Runs when a CSS transition finishes\n\t * @param {TransitionEvent} e - The transition event\n\t */\n\t#handleTransitionEnd(e) {\n\t\tif (e.target === this.dialog && e.propertyName === 'transform') {\n\t\t\tthis.dialog.classList.remove('transitioning');\n\t\t}\n\t}\n}\n\nclass BottomSheetContent extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n\nclass BottomSheetHeader extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n\nif (!customElements.get('bottom-sheet')) {\n\tcustomElements.define('bottom-sheet', BottomSheet);\n}\nif (!customElements.get('bottom-sheet-content')) {\n\tcustomElements.define('bottom-sheet-content', BottomSheetContent);\n}\nif (!customElements.get('bottom-sheet-header')) {\n\tcustomElements.define('bottom-sheet-header', BottomSheetHeader);\n}\n\nexport { BottomSheet, BottomSheetContent, BottomSheetHeader };\n"],"names":[],"mappings":"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"}